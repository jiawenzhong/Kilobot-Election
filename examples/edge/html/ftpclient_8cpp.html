<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Assignment 1: ftpclient.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Assignment 1
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ftpclient.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;sys/socket.h&gt;</code><br />
<code>#include &lt;arpa/inet.h&gt;</code><br />
<code>#include &lt;netinet/in.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;netdb.h&gt;</code><br />
<code>#include &lt;fstream&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for ftpclient.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="ftpclient_8cpp__incl.png" border="0" usemap="#ftpclient_8cpp" alt=""/></div>
<map name="ftpclient_8cpp" id="ftpclient_8cpp">
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:af7b7dc9a200cb1404c280bd500fd1551"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpclient_8cpp.html#af7b7dc9a200cb1404c280bd500fd1551">BUFFER_LENGTH</a>&#160;&#160;&#160;2048</td></tr>
<tr class="separator:af7b7dc9a200cb1404c280bd500fd1551"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96d13532625730eddbdf008e03926fc8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpclient_8cpp.html#a96d13532625730eddbdf008e03926fc8">WAITING_TIME</a>&#160;&#160;&#160;1000000</td></tr>
<tr class="separator:a96d13532625730eddbdf008e03926fc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac1f1f6f2d41dcafa883cd0481f642aec"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpclient_8cpp.html#ac1f1f6f2d41dcafa883cd0481f642aec">create_connection</a> (std::string host, int port)</td></tr>
<tr class="memdesc:ac1f1f6f2d41dcafa883cd0481f642aec"><td class="mdescLeft">&#160;</td><td class="mdescRight">this create the connection with the FTP address  <a href="#ac1f1f6f2d41dcafa883cd0481f642aec">More...</a><br /></td></tr>
<tr class="separator:ac1f1f6f2d41dcafa883cd0481f642aec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2aa65001102647fd5589df6bcfe9a03"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpclient_8cpp.html#ac2aa65001102647fd5589df6bcfe9a03">request</a> (int sock, std::string message)</td></tr>
<tr class="memdesc:ac2aa65001102647fd5589df6bcfe9a03"><td class="mdescLeft">&#160;</td><td class="mdescRight">request reply from server  <a href="#ac2aa65001102647fd5589df6bcfe9a03">More...</a><br /></td></tr>
<tr class="separator:ac2aa65001102647fd5589df6bcfe9a03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a7aa7cf7186b69af4a474ae41119998"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpclient_8cpp.html#a0a7aa7cf7186b69af4a474ae41119998">reply</a> (int s)</td></tr>
<tr class="memdesc:a0a7aa7cf7186b69af4a474ae41119998"><td class="mdescLeft">&#160;</td><td class="mdescRight">this gets the reply from the server  <a href="#a0a7aa7cf7186b69af4a474ae41119998">More...</a><br /></td></tr>
<tr class="separator:a0a7aa7cf7186b69af4a474ae41119998"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a840b4375f11a425e5e3e26bea0d574f4"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpclient_8cpp.html#a840b4375f11a425e5e3e26bea0d574f4">request_reply</a> (int s, std::string message)</td></tr>
<tr class="memdesc:a840b4375f11a425e5e3e26bea0d574f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">this request reply from server  <a href="#a840b4375f11a425e5e3e26bea0d574f4">More...</a><br /></td></tr>
<tr class="separator:a840b4375f11a425e5e3e26bea0d574f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7180eccdb6a329e3561b79b773782ff9"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpclient_8cpp.html#a7180eccdb6a329e3561b79b773782ff9">passive</a> (int sockpi)</td></tr>
<tr class="memdesc:a7180eccdb6a329e3561b79b773782ff9"><td class="mdescLeft">&#160;</td><td class="mdescRight">this connects the passive  <a href="#a7180eccdb6a329e3561b79b773782ff9">More...</a><br /></td></tr>
<tr class="separator:a7180eccdb6a329e3561b79b773782ff9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98736da8cac28c6393d0d230b1c7bc18"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpclient_8cpp.html#a98736da8cac28c6393d0d230b1c7bc18">connect</a> (string passiveReturn)</td></tr>
<tr class="separator:a98736da8cac28c6393d0d230b1c7bc18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8bf714fcd9096303d22e53819a4c6c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpclient_8cpp.html#aa8bf714fcd9096303d22e53819a4c6c2">closeConnection</a> (int sockpi)</td></tr>
<tr class="memdesc:aa8bf714fcd9096303d22e53819a4c6c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">this closes the connection  <a href="#aa8bf714fcd9096303d22e53819a4c6c2">More...</a><br /></td></tr>
<tr class="separator:aa8bf714fcd9096303d22e53819a4c6c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12c15e86b6722a733e6be6160659ae2c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpclient_8cpp.html#a12c15e86b6722a733e6be6160659ae2c">checkFileTransfer</a> (int sockpi)</td></tr>
<tr class="memdesc:a12c15e86b6722a733e6be6160659ae2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">this checks if all files are finish transfer  <a href="#a12c15e86b6722a733e6be6160659ae2c">More...</a><br /></td></tr>
<tr class="separator:a12c15e86b6722a733e6be6160659ae2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f56702a3c18e3109ff23d66b4ed5d10"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpclient_8cpp.html#a7f56702a3c18e3109ff23d66b4ed5d10">command</a> (int sockpi, string choice)</td></tr>
<tr class="memdesc:a7f56702a3c18e3109ff23d66b4ed5d10"><td class="mdescLeft">&#160;</td><td class="mdescRight">execute the command that the user has entered  <a href="#a7f56702a3c18e3109ff23d66b4ed5d10">More...</a><br /></td></tr>
<tr class="separator:a7f56702a3c18e3109ff23d66b4ed5d10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ddf1224851353fc92bfbff6f499fa97"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftpclient_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a> (int argc, char *argv[])</td></tr>
<tr class="separator:a0ddf1224851353fc92bfbff6f499fa97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="af7b7dc9a200cb1404c280bd500fd1551"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7b7dc9a200cb1404c280bd500fd1551">&#9670;&nbsp;</a></span>BUFFER_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUFFER_LENGTH&#160;&#160;&#160;2048</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>C++ client example using sockets. This programs can be compiled in linux and with minor modification in mac (mainly on the name of the headers) Windows requires extra lines of code and different headers #define WIN32_LEAN_AND_MEAN</p>
<p>#include &lt;windows.h&gt; #include &lt;winsock2.h&gt; #include &lt;ws2tcpip.h&gt;</p>
<p>Need to link with Ws2_32.lib, Mswsock.lib, and Advapi32.lib #pragma comment(lib, "Ws2_32.lib") ... WSADATA wsaData; iResult = WSAStartup(MAKEWORD(2,2), &amp;wsaData); ...</p>
<p>Name: Kaicie Messer, Jiawen Zhong, Eunice Chinchilla </p>

</div>
</div>
<a id="a96d13532625730eddbdf008e03926fc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96d13532625730eddbdf008e03926fc8">&#9670;&nbsp;</a></span>WAITING_TIME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WAITING_TIME&#160;&#160;&#160;1000000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a12c15e86b6722a733e6be6160659ae2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12c15e86b6722a733e6be6160659ae2c">&#9670;&nbsp;</a></span>checkFileTransfer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void checkFileTransfer </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sockpi</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>this checks if all files are finish transfer </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sockpi</td><td>the socket number </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa8bf714fcd9096303d22e53819a4c6c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8bf714fcd9096303d22e53819a4c6c2">&#9670;&nbsp;</a></span>closeConnection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void closeConnection </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sockpi</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>this closes the connection </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sockpi</td><td>the socket number </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7f56702a3c18e3109ff23d66b4ed5d10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f56702a3c18e3109ff23d66b4ed5d10">&#9670;&nbsp;</a></span>command()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void command </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sockpi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>choice</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>execute the command that the user has entered </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sockpi</td><td>the socket number </td></tr>
    <tr><td class="paramname">sockpi2</td><td>the socket number that gets the file </td></tr>
    <tr><td class="paramname">choice</td><td>user input command </td></tr>
  </table>
  </dd>
</dl>
<p>&lt; store the status number from reply</p>
<p>&lt; reply from command</p>
<p>close all connections</p>
<p>extract the return status</p>
<p>check if file is open correctly</p>
<p>store the text into the file</p>
<p>check connection </p>

</div>
</div>
<a id="a98736da8cac28c6393d0d230b1c7bc18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98736da8cac28c6393d0d230b1c7bc18">&#9670;&nbsp;</a></span>connect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int connect </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>passiveReturn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>create port </p>

</div>
</div>
<a id="ac1f1f6f2d41dcafa883cd0481f642aec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1f1f6f2d41dcafa883cd0481f642aec">&#9670;&nbsp;</a></span>create_connection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int create_connection </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>this create the connection with the FTP address </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">host</td><td>the ip address of the server </td></tr>
    <tr><td class="paramname">port</td><td>the port number to connect to </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0ddf1224851353fc92bfbff6f499fa97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ddf1224851353fc92bfbff6f499fa97">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7180eccdb6a329e3561b79b773782ff9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7180eccdb6a329e3561b79b773782ff9">&#9670;&nbsp;</a></span>passive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string passive </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sockpi</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>this connects the passive </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sockpi</td><td>the socket number </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0a7aa7cf7186b69af4a474ae41119998"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a7aa7cf7186b69af4a474ae41119998">&#9670;&nbsp;</a></span>reply()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string reply </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>this gets the reply from the server </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>the socket number </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac2aa65001102647fd5589df6bcfe9a03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2aa65001102647fd5589df6bcfe9a03">&#9670;&nbsp;</a></span>request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int request </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>request reply from server </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sockpi</td><td>the socket number </td></tr>
    <tr><td class="paramname">message</td><td>the message sent to the server </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a840b4375f11a425e5e3e26bea0d574f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a840b4375f11a425e5e3e26bea0d574f4">&#9670;&nbsp;</a></span>request_reply()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string request_reply </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>this request reply from server </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>the socket number </td></tr>
    <tr><td class="paramname">message</td><td>the command for the server </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
